---
id : B1.HZOJ
title : B1.HZOJ
typora-root-url : ../
---



# HZOJ



## å¤§æ•°

```cpp
/*************************************************************************
	> File Name: 41-2.cpp
	> Author: 
	> Mail: 
	> Created Time: æ—¥  4/26 20:51:48 2020
 ************************************************************************/

#include <iostream>
#include <cstdio>
#include <cstdlib>
#include <queue>
#include <stack>
#include <algorithm>
#include <string>
#include <map>
#include <set>
#include <vector>
using namespace std;
#define MAX_N 1000

struct BigInt: public vector<int> {
    BigInt(int x = 0) {
        push_back(x);
        normal();
    }    
    
    BigInt operator*(int x) {
        BigInt ret(*this);
        for (int i = 0; i < ret.size(); i++) ret[i] *= x;
        ret.normal();
        return ret;
    }

    BigInt operator+(const BigInt &a) {
        BigInt ret(*this);
        for (int i = 0; i < a.size(); i++) {
            if (i < ret.size()) ret[i] += a[i];
            else ret.push_back(a[i]);
        }
        ret.normal();
        return ret;
    }

    void normal() {
        for (int i = 0; i < size(); i++) {
            if (at(i) < 10) continue;
            if (i + 1 == size()) push_back(0);
            at(i + 1) += at(i) / 10;
            at(i) %= 10;
        }
        return ;
    }
};

BigInt f[MAX_N + 5];

ostream &operator<<(ostream &out, const BigInt &a) {
    for (int i = a.size() - 1; i >= 0; --i) {
        out << a[i];
    }
    return out;
}

int main() {
    int n, k;
    cin >> n >> k;
    f[1] = k;
    f[2] = (k - 1) * k;
    f[3] = k * (k - 1) * (k - 2);
    for (int i = 4; i <= n; i++) {
        f[i] = f[i - 1] * (k - 2) + f[i - 2] * (k - 1);
    }
    cout << f[n] << endl;
    return 0;
}
```

```c
struct BigInt : vector<int>{
    BigInt(int x) {
        push_back(x);
        normal();
    }
    BigInt operator+(const BigInt &b) {
        BigInt ret = (*this);
        for (int i = 0; i < b.size(); i++) {
            if (i < ret.size()) {
                ret[i] += b[i];
            } else {
                ret.push_back(b[i]);
            }
        }
        ret.normal();
        return ret;
    } 
    void normal() {
        for (int i = 0; i < size(); i++) {
            if (at(i) < 10) continue;
            if (i + 1 == size()) push_back(0);
            at(i + 1) += at(i) / 10;
            at(i) %= 10;
        }
        return ;
    }
};

ostream &operator<<(ostream &out, const BigInt &a) {
    for (int i = a.size() - 1; i >= 0; i--) {
        out << a[i];
    }
    return out;
}

int main() {
    int n;
    BigInt a = 1, b = 1, c = 0;
    cin >> n;
    while (n--) {
        c = a + b;
        a = b;
        b = c;
    }
    cout << a << endl;
    return 0;
}
```



#### HZOJ-474. å››çº§è€ƒè¯•

```cpp
#include <iostream>
#include <algorithm>
#include <cstdio>
#include <cstdlib>
#include <cmath>
#include <cstring>
#include <string>
#include <vector>
#include <set>
#include <map>
#include <deque>
using namespace std;

struct BigFloat {
    BigFloat(int x) {
        lpart.push_back(x);
        process_digit();
    }
    void trim() {
        while (lpart.size() > 1 && lpart[0] == 0) lpart.pop_front();
        while (rpart.size() && rpart[rpart.size() - 1] == 0) rpart.pop_back();
        return;
    }
    void operator>>=(int x) {
        while (x--) {
            if (lpart.size()) {
                rpart.push_front(lpart.back());
                lpart.pop_back();
            } else {
                rpart.push_front(0);
            }
        }
        if (!lpart.size()) lpart.push_back(0);
        trim();
    }
    void process_digit() {
        for (int i = rpart.size() - 1; i >= 0; i--) {
            if (rpart[i] < 10) continue;
            if (i == 0) lpart[lpart.size() - 1] += rpart[i] / 10;
            else rpart[i - 1] += rpart[i] / 10;
            rpart[i] %= 10;
        }
        for (int i = lpart.size() - 1; i >= 0; i--) {
            if (lpart[i] < 10) continue;
            if (i == 0) lpart.push_front(0), i++;
            lpart[i - 1] += lpart[i] / 10;
            lpart[i] %= 10;
        }
        trim();
    }

    void operator*=(int x) {
        for (int i = rpart.size() - 1; i >= 0; i--) {
            rpart[i] *= x;
        }
        for (int i = lpart.size() - 1; i >= 0; i--) {
            lpart[i] *= x;
        }
        process_digit();
    }

    deque<int> lpart, rpart;
};

ostream &operator<<(ostream &out, const BigFloat &obj) {
    for (int i = 0; i < obj.lpart.size(); i++) {
        out << obj.lpart[i];
    }
    if (!obj.rpart.size()) return out;
    out << ".";
    for (int i = 0; i < obj.rpart.size(); i++) {
        out << obj.rpart[i];
    }
    return out;
}

int main() {
    int n, p[4];
    string str;
    cin >> n >> str;
    BigFloat ans = 1;
    for (int i = 0; i < n; i++) {
        char ch;
        for (int j = 0; j < 4; j++) {
            cin >> p[j] >> ch;
        }
        ans *= p[str[i] - 'A'];
        ans >>= 2;
    }
    cout << ans << endl;
    return 0;
}

```







## æ ˆ

#### æ‹¬å·ç”»å®¶

```c++
int main() {
    map<char, char> mmap = {{')', '('}, {']','['}, {'}', '{'}};
    stack<int> stk;
    string s;
    cin >> s;
    int ans = 0;
    for (int i = 0; s[i]; i++) {
        if (s[i] == '(' || s[i] == '[' || s[i] == '{') {
            stk.push(i);
            //cout << "push <- " << s[i] << endl;
        } else {
            if (!stk.empty() && mmap[s[i]] == s[stk.top()]) {
                stk.pop();
                //cout << "pop -> " << s[i] << endl;
                int ind = stk.empty() ? -1 : stk.top();
                ans = max(ans, i - ind); 
            } else {
                stk.push(i);
            }
        }
    }

    cout << ans << endl;
    return 0;
}
```







## é˜Ÿåˆ—

####  270. æœ€å¤§å­åºå’Œ

 è¾“å…¥ä¸€ä¸ªé•¿åº¦ä¸º ğ‘› çš„æ•´æ•°åºåˆ—ï¼Œä»ä¸­æ‰¾å‡ºä¸€æ®µä¸è¶…è¿‡ ğ‘€ çš„è¿ç»­å­åºåˆ—ï¼Œä½¿å¾—æ•´ä¸ªåºåˆ—çš„å’Œæœ€å¤§ã€‚

 ä¾‹å¦‚ 1ï¼Œâˆ’3,5,1ï¼Œâˆ’2,3ï¼š

 å½“ ğ‘š=4 æ—¶ï¼Œğ‘†=5+1âˆ’2+3=7ï¼›

 å½“ ğ‘š=2 æˆ– ğ‘š=3 æ—¶ï¼Œğ‘†=5+1=6ã€‚
 ç¬¬ä¸€è¡Œä¸¤ä¸ªæ•° ğ‘›,ğ‘šã€‚

 ç¬¬äºŒè¡Œæœ‰ ğ‘› ä¸ªæ•°ï¼Œè¦æ±‚åœ¨ ğ‘› ä¸ªæ•°æ‰¾åˆ°æœ€å¤§å­åºå’Œã€‚



```cpp
   for (int i = 1; i <= n; i++) {
        cin >> arr[i];
        arr[i] += arr[i - 1];
    }
    head = 0;
    tail = -1;
    int ans = 0;
    que[++tail] = 0;
    for (int i = 1; i <= n; i++) {
        while (tail >= head && arr[i] <= arr[que[tail]]) tail--;
        que[++tail] = i;
        ans = max(ans, arr[i] - arr[que[head]]);
        if (que[head] + m == i) head++;
    }

```





## è¿›åˆ¶

ä»»æ„è¿›åˆ¶è½¬æ¢+å¤§æ•°

```c
    int len = strlen(tmp), l = strlen(tmp), mmax = 0;

    cout << s1 << " " << tmp << endl << s2  << " ";

    for (int i = 0; l; ++i) {
        int k = 0;
        for (int j = len - l; j < len; j++) {
            k  = k * s1 + to_10[tmp[j]];
            tmp[j] = to_62[k / s2];

            k %= s2;
        }
        ans[i] = to_62[k];
        while (l > 0 && tmp[len - l] == '0') {
            --l;
        }
        mmax = i;
    }

```



## ä½è¿ç®—

```c
//offsetå°äºä¸”æœ€æ¥è¿‘PAGE_SIZEçš„å€æ•°
//å¾—æ˜¯2çš„å€æ•°???
pa_offset = offset & ~(sysconf(_SC_PAGE_SIZE) - 1);
```





### å–æœ€åä¸€ä¸ª1çš„ä½æƒ

```cpp
int k = res & (~res + 1);
int k = res & (-res);
```

**æ•°ç»„ä¸­ï¼Œåªæœ‰ä¸¤ä¸ªæ•°å‡ºç°ä¸€æ¬¡ï¼Œå‰©ä¸‹éƒ½å‡ºç°ä¸¤æ¬¡ï¼Œæ‰¾å‡ºå‡ºç°ä¸€æ¬¡çš„**

æœ€ç»ˆæ‰€æœ‰çš„å…ƒç´ å¼‚æˆ–çš„ç»“æœå°±æ˜¯res = x^yã€‚å¹¶ä¸”resï¼=0ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æ‰¾å‡ºresäºŒè¿›åˆ¶è¡¨ç¤ºä¸­çš„æŸä¸€ä½æ˜¯1ï¼Œå¯¹åº”çš„xï¼Œyä¸€ä¸ªä¸º1ï¼Œä¸€ä¸ªä¸º0

 **åº”ç”¨äºŒ æ•°ç»„ä¸­ï¼Œåªæœ‰ä¸€ä¸ªæ•°å‡ºç°ä¸€æ¬¡ï¼Œå‰©ä¸‹éƒ½å‡ºç°ä¸‰æ¬¡ï¼Œæ‰¾å‡ºå‡ºç°ä¸€æ¬¡çš„ã€‚**



### æ¶ˆå»xæœ€åä¸€ä½çš„1

```cpp
x&(x-1)
```

æ¯”å¦‚: åè¿›åˆ¶æ•°`10`çš„äºŒè¿›åˆ¶ä¸º`1010`,`9`çš„äºŒè¿›åˆ¶æ•°ä¸º`1001`,é‚£ä¹ˆ`(1010)&(1001)=1000`ï¼Œç°åœ¨`10`çš„äºŒè¿›åˆ¶ä¸­æœ€åä¸€ä½çš„`1`å·²ç»è¢«æ¶ˆå»

ç”¨é€”:

1. **å¯ä»¥ç”¨æ¥æ£€æµ‹ä¸€ä¸ªæ•°æ˜¯ä¸æ˜¯2çš„å¹‚æ¬¡ã€‚**

   å¦‚æœä¸€ä¸ªæ•°`x`æ˜¯2çš„å¹‚æ¬¡ï¼Œé‚£ä¹ˆ`x>0`ä¸”`x`çš„äºŒè¿›åˆ¶ä¸­åªæœ‰ä¸€ä¸ª1,ç”¨`x&(x-1)`æŠŠ1æ¶ˆå»ï¼Œåº”è¯¥è¿”å›`0`ï¼Œ

2. **è®¡ç®—ä¸€ä¸ªæ•´æ•°äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°**

   ä¸æ–­çš„é€šè¿‡`x&(x-1)`è¿™ä¸ªæ“ä½œæ¶ˆå»1ï¼Œæœ€åçš„å€¼å˜æˆ0

3. **å¦‚æœå°†æ•´æ•°`A`è½¬æ¢æˆæ•´æ•°`B`,éœ€è¦æ”¹å˜å¤šå°‘ä¸ªæ¯”ç‰¹ä½.**

   å¦‚æœAå’ŒBåœ¨ç¬¬iï¼ˆ0<=i<32ï¼‰ä¸ªä½ä¸Šç›¸ç­‰ï¼Œåˆ™ä¸éœ€è¦æ”¹å˜è¿™ä¸ªBITä½ï¼Œå¦‚æœåœ¨ç¬¬iä½ä¸Šä¸ç›¸ç­‰ï¼Œåˆ™éœ€è¦æ”¹å˜è¿™ä¸ªBITä½ã€‚æ‰€ä»¥é—®é¢˜è½¬åŒ–ä¸ºäº†Aå’ŒBæœ‰å¤šå°‘ä¸ªBITä½ä¸ç›¸åŒã€‚è”æƒ³åˆ°ä½è¿ç®—æœ‰ä¸€ä¸ªå¼‚æˆ–æ“ä½œï¼Œç›¸åŒä¸º0ï¼Œç›¸å¼‚ä¸º1ï¼Œæ‰€ä»¥é—®é¢˜è½¬å˜æˆäº†è®¡ç®—**Aå¼‚æˆ–Bä¹‹åè¿™ä¸ªæ•°ä¸­1çš„ä¸ªæ•°**

### å·¦ç§»å³ç§»

1. æœ€å¤§intï¼š(1 << 31) - 1; 0x7fffffff
2. æœ€å°çš„intå€¼:1 << 31
3. æœ€å¤§çš„long: ((unsigned long) -1) >> 1

### åˆ¤æ–­ä¸€ä¸ªæ•°çš„å¥‡å¶æ€§

åˆ¤æ–­å¥‡å¶æ€§ï¼Œå®è´¨æ˜¯åˆ¤æ–­æœ€åä¸€ä½æ˜¯å¦æ˜¯1.

```cpp
/*
	åˆ¤æ–­ä¸€ä¸ªæ•°çš„å¥‡å¶æ€§.è¿”å›1ï¼Œä¸ºå¥‡æ•°;è¿”å›0ï¼Œä¸ºå¶æ•°
	n&1
*/
```

### äº¤æ¢ä¸¤ä¸ªæ•°(ä¸å€ŸåŠ©ç¬¬ä¸‰å˜é‡)

ä¸ç”¨ç¬¬ä¸‰ä¸ªå˜é‡äº¤æ¢ä¸¤ä¸ªæ•°çš„æ–¹æ³•ä¹Ÿæœ‰å‡ ç§ï¼Œä¾‹å¦‚a = a + b;  b = a - b; a = a - bã€‚ä¸‹é¢è¿™ç§æ–¹æ³•å¯ä»¥å®ç°çš„åŸºç¡€æ˜¯ä¸€ä¸ªæ•°mä¸å¦ä¸€ä¸ªæ•°nå¼‚æˆ–ï¼Œå†ä¸nå¼‚æˆ–ï¼Œå¾—åˆ°çš„ç»“æœæ˜¯m.

```cpp
	a = a ^ b
	b = b ^ a
	a = a ^ b
```

### æ±‚ä¸€ä¸ªæ•°çš„ç»å¯¹å€¼

ä¸‹é¢çš„æ–¹æ³•å®ç°çš„åŸºç¡€æ˜¯å°†nå³ç§»31ä½ï¼Œå¯ä»¥è·å¾—nçš„ç¬¦å·ã€‚

```cpp
/*
	å–ç»å¯¹å€¼
	nå³ç§»31ä½ï¼Œå¯ä»¥è·å¾—nçš„ç¬¦å·ã€‚è‹¥nä¸ºæ­£æ•°ï¼Œå¾—åˆ°0ï¼›è‹¥nä¸ºè´Ÿæ•°ï¼Œå¾—åˆ° -1
*/

	return (n ^ n >> 31) - (n >> 31);
```

### æ±‚ä¸¤ä¸ªæ•°çš„å¹³å‡å€¼

```cpp
/*
	æ±‚må’Œnçš„å¹³å‡æ•°
*/
	return (m + n) >> 1;

/*
	æ±‚må’Œnçš„å¹³å‡æ•°
	(m ^ n) >> 1 -> è·å¾—må’Œnä¸¤ä¸ªæ•°ä¸­ä¸€ä¸ªæ•°çš„æŸäº›ä½ä¸º1çš„å€¼çš„ä¸€åŠ
	m & n -> è·å¾—må’Œnä¸¤ä¸ªæ•°ä¸­éƒ½ä¸º1çš„æŸäº›ä½
*/
	return ((m ^ n) >> 1) + (m & n);

```

### æ±‚è§£å€’æ•°ç¬¬mä½ç›¸å…³é—®é¢˜

```cpp
/*

	è·å–nçš„å€’æ•°ç¬¬mä½çš„å€¼ï¼ˆä»1å¼€å§‹è®¡æ•°ï¼‰
*/
	return (n >> (m - 1)) & 1;

/*
	å°†nçš„å€’æ•°ç¬¬mä½è®¾ä¸º1
*/
	return n | (1 << (m - 1));


/*
	å°†nçš„å€’æ•°ç¬¬mä½è®¾ä¸º0
*/
	return n & ~(1 << (m - 1));
```



å…¶ä»–å¸¸ç”¨æ“ä½œ:

| åŠŸèƒ½                  | ç¤ºä¾‹                   | ä½è¿ç®—                  |
| --------------------- | ---------------------- | ----------------------- |
| å»æ‰æœ€åä¸€ä½          | (101101->10110)        | x shr 1                 |
| åœ¨æœ€ååŠ ä¸€ä¸ª0         | (101101->1011010)      | x shl 1                 |
| åœ¨æœ€ååŠ ä¸€ä¸ª1         | (101101->1011011)      | x shl 1+1               |
| æŠŠæœ€åä¸€ä½å˜æˆ1       | (101100->101101)       | x or 1                  |
| æŠŠæœ€åä¸€ä½å˜æˆ0       | (101101->101100)       | x or 1-1                |
| æœ€åä¸€ä½å–å          | (101101->101100)       | x xor 1                 |
| æŠŠå³æ•°ç¬¬kä½å˜æˆ1      | (101001->101101,k=3)   | x or (1 shl (k-1))      |
| æŠŠå³æ•°ç¬¬kä½å˜æˆ0      | (101101->101001,k=3)   | x and not (1 shl (k-1)) |
| å³æ•°ç¬¬kä½å–å         | (101001->101101,k=3)   | x xor (1 shl (k-1))     |
| å–æœ«ä¸‰ä½              | (1101101->101)         | x and 7                 |
| å–æœ«kä½               | (1101101->1101,k=5)    | x and (1 shl k-1)       |
| å–å³æ•°ç¬¬kä½           | (1101101->1,k=4)       | x shr (k-1) and 1       |
| æŠŠæœ«kä½å˜æˆ1          | (101001->101111,k=4)   | x or (1 shl k-1)        |
| æœ«kä½å–å             | (101001->100110,k=4)   | x xor (1 shl k-1)       |
| æŠŠå³è¾¹è¿ç»­çš„1å˜æˆ0    | (100101111->100100000) | x and (x+1)             |
| æŠŠå³èµ·ç¬¬ä¸€ä¸ª0å˜æˆ1    | (100101111->100111111) | x or (x+1)              |
| æŠŠå³è¾¹è¿ç»­çš„0å˜æˆ1    | (11011000->11011111)   | x or (x-1)              |
| å–å³è¾¹è¿ç»­çš„1         | (100101111->1111)      | (x xor (x+1)) shr 1     |
| å»æ‰å³èµ·ç¬¬ä¸€ä¸ª1çš„å·¦è¾¹ | (100101000->1000)      | x and (x xor (x-1))     |

### åˆ©ç”¨äºŒè¿›åˆ¶æ¥æšä¸¾å­é›†

#### **åº”ç”¨.ç»™å®šä¸€ä¸ªå«ä¸åŒæ•´æ•°çš„é›†åˆï¼Œè¿”å›å…¶æ‰€æœ‰çš„å­é›†**

##### **æ ·ä¾‹**

å¦‚æœ S = [1,2,3]ï¼Œæœ‰å¦‚ä¸‹çš„è§£ï¼š
[ [3], [1], [2], [1,2,3], [1,3], [2,3], [1,2] ]

#### **æ€è·¯**

æ€è·¯å°±æ˜¯ä½¿ç”¨ä¸€ä¸ªæ­£æ•´æ•°äºŒè¿›åˆ¶è¡¨ç¤ºçš„ç¬¬iä½æ˜¯1è¿˜æ˜¯0ï¼Œä»£è¡¨é›†åˆçš„ç¬¬iä¸ªæ•°å–æˆ–è€…ä¸å–ã€‚æ‰€ä»¥ä»0åˆ°2n-1æ€»å…±2nä¸ªæ•´æ•°ï¼Œæ­£å¥½å¯¹åº”é›†åˆçš„2^nä¸ªå­é›†ã€‚

```
S = {1,2,3}
N bit Combination
0 000 {}
1 001 {1}
2 010 {2}
3 011 {1,2}
4 100 {3}
5 101 {1,3}
6 110 {2,3}
7 111 {1,2,3}
```

[blog-ä½è¿ç®—](https://blog.csdn.net/zouliping123/article/details/8995373)





## æšä¸¾

#### 519. ä¼˜é›…æ•°

 ç»™å®šä¸¤ä¸ªæ•° *ğ¿*,*ğ‘…*L,Rï¼Œæ±‚ *ğ¿*,*ğ‘…*L,R ä¹‹é—´ï¼ˆå«ï¼‰æœ‰å¤šå°‘ä¸ªâ€œä¼˜é›…æ•°â€ã€‚

 ä¼˜é›…æ•°çš„å®šä¹‰ï¼šæŠŠä¸€ä¸ªæ•°çœ‹åšä¸€ä¸ªé•¿åº¦ä¸º *ğ‘›*n çš„å­—ç¬¦ä¸²ï¼ˆæ²¡æœ‰å‰å¯¼é›¶ï¼‰ï¼Œ*ğ‘›*n ä¸ªå­—ç¬¦ä¸­ *ğ‘›*âˆ’1nâˆ’1 ä¸ªå…¨ç›¸åŒï¼Œæœ‰ä¸”ä»…æœ‰ä¸€ä¸ªå­—ç¬¦ä¸åŒã€‚ä¾‹å¦‚ 33323,11933323,119 éƒ½æ˜¯ä¼˜é›…çš„ï¼Œ99999,233299999,2332 éƒ½æ˜¯ä¸ä¼˜é›…çš„ã€‚



```cpp
int getLen(long long val) {
    return floor(log10(val)) + 1;
}

int main() {
    long long l, r;
    int ans = 0;
    cin >> l >> r;
    int len_a = getLen(l);
    int len_b = getLen(r);
    for (int i = 0; i < 10; i++) {
        for (int j = 0; j < 10; j++) {
            if (i == j) continue;
            for (int k = len_a; k <= len_b; k++) {
                for (int ind = 1; ind <= k; ind++) {
                    if (i == 0 && ind != 1) break;
                    if (j == 0 && ind == 1) continue;
                    long long num = 0;
                    for (int m = 1; m <= k; m++) {
                        if (m == ind) {
                            num = num * 10 + j;
                        } else {
                            num = num * 10 + i;
                        }
                    }
                    if (num >= l && num <= r) ans++;
                }
            }
        }
    }
    cout << ans << endl;
    return 0;
}

```







## äºŒåˆ†



## æ•°å­¦

#### å¿«é€Ÿå¹‚

```cpp
int mul(int a, int b, int p) {
    int ans = 0;
    if (b > a) swap(a, b);
    while (b) {
        if (b & 1) ans = (ans + a) % p;
        a = 2 * a % p;
        b >>= 1;
    }
    return ans % p;
}

int calc(int a, int b, int p) {
    int ans  = 1;
    while (b) {
        if (b & 1) ans = mul(a, ans, p);
        a = mul(a, a, p);
        b >>= 1;
    }
    return ans % p;
}

```





#### å’Œä¸ºnçš„è¿ç»­å­åºåˆ—

**3. åˆ©ç”¨è§„å¾‹s\*k <= nè€Œè®¾è®¡çš„ç®—æ³• (nlnn)**

æˆ‘ä»¬çŸ¥é“ï¼Œsæ˜¯ç›®æ ‡å­æ•°åˆ—çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œä¹Ÿæ˜¯æœ€å°çš„å…ƒç´ ï¼Œæ‰€ä»¥å¿…ç„¶æœ‰sum(s,k) >= s*kï¼Œ ä¹Ÿå°±æ˜¯n>=s*k, ä¹Ÿå°±æ˜¯k <= n/sï¼Œäºæ˜¯ç®—æ³•å¯ä»¥å†™æˆï¼š

for s = 1 to n
ã€€ã€€for k = 1 to n/s
ã€€ã€€ã€€ã€€if sum(s, k) == n
output(s, k);

æ­¤å¤„ï¼Œå…¶å¤æ‚åº¦å¹¶ä¸æ˜¯æ˜¾è€Œæ˜“è§ï¼Œä½†ç¨åŠ åˆ†æï¼š

å¤æ‚åº¦ = n + n/2 + n/3 + n/4 + ... + n/n = n (1 + 1/2 + 1/3 + 1/4 + .. + 1/n)ï¼Œå¯ä»¥æ³¨æ„åˆ°ï¼Œæ‹¬å·ä¸­çš„éƒ¨åˆ†æ˜¯ä¸€ä¸ªè°ƒå’Œçº§æ•°ï¼Œå…¶å’Œä¸ºlnnã€‚

äºæ˜¯ï¼Œæ­¤ç®—æ³•çš„å¤æ‚åº¦ä¸º O(nlnn)

**4. åˆ©ç”¨è§„å¾‹s\*k = n-k(k-1)/2è€Œè®¾è®¡çš„ç®—æ³•(sqrt(n))**

æˆ‘ä»¬çŸ¥é“ï¼Œå¯¹äºå­æ•°åˆ—æ±‚å’Œï¼Œå…¶å…¬å¼ä¸ºï¼š

n = k(s+ (s+k-1))/2 = s*k + k(k-1)/2

å¾—å‡ºï¼šs*k = n - k(k-1)/2

ç”±è¿™ä¸ªå…¬å¼æˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸¤ç‚¹ä¿¡æ¯ï¼š

- 1*k <= s*k = n-k(k-1)/2ï¼Œæ¨å‡ºn-k(k-1)/2 >= k
- å¦‚æœn-k(k-1)/2èƒ½å¤Ÿæ•´é™¤kï¼Œåˆ™kæ˜¯ç›®æ ‡å­æ•°åˆ—çš„é•¿åº¦ï¼Œè€Œèµ·å§‹ç‚¹å¯ä»¥ç”±å…¬å¼ç®—å‡ºï¼šs = (n-k(k-1)/2)/k

äºæ˜¯ï¼Œç®—æ³•å°±å¯ä»¥ä»¥kä¸ºå˜é‡é€’å¢ï¼Œä»¥n-k(k-1)/2 >= kä¸ºé™åˆ¶æ¡ä»¶ï¼š

```cpp
#include <iostream>
#include <cmath>
#include <algorithm>
using namespace std;

long long n;
int main(){
    cin >> n;
    for (int k = sqrt(2 * n); k > 0; --k) {
        long long temp = n - k * (k - 1) / 2;
        if ( temp % k == 0) {
            temp /= k;
            for (int s = temp; s < temp + k; s++) {
                s != temp && cout << " ";
                cout << s;
            }
            return 0;
        }
    }
    return 0;
}

```

#### èºæ—‹çŸ©é˜µ

â‘ è®¡ç®—åœˆæ•°ï¼š

å¯ä»¥æŠŠæ•´ä¸ªçŸ©é˜µä»ä¸­å¿ƒåˆ†æˆå››ä»½ï¼Œåˆ†åˆ«æ˜¯å·¦ä¸Šï¼Œå³ä¸Šï¼Œå·¦ä¸‹ï¼Œå³ä¸‹

å¯ä»¥æŠŠå…¶ä»–ä¸‰ä¸ªå°çŸ©é˜µå¯¹ç§°åˆ°å·¦ä¸ŠçŸ©é˜µå»ï¼Œå› ä¸ºä»(1,1)å¼€å§‹ä½¿å¾—å…¶$x,y$åæ ‡ç¬¦åˆ $min(x,y)=$åœˆæ•°

ç¬¬1åœˆæ•°å­—ä¸ªæ•°  ç¬¬2åœˆæ•°å­—ä¸ªæ•°   ç¬¬3åœˆæ•°å­—ä¸ªæ•°ã€€ã€€...ã€€ã€€ç¬¬$x$åœˆæ•°å­—ä¸ªæ•°

$4(n-1)$ã€€ã€€ã€€ã€€$4(n-3)$ã€€ã€€ã€€ã€€$4(n-5)$    ...ã€€ $4(n-2x+1)$

å†è§‚å¯Ÿæ¯ä¸€åœˆç¬¬ä¸€ä¸ªä½ç½® $(1,1) \ ,\ (2,2) \ ,\ (3,3),....$

å¯ä»¥è§‚å¯Ÿåˆ°æ¯ä¸€åœˆçš„å‰$1/2$ä¸ª(ä¸ŠåŠéƒ¨åˆ†) éšç€èºæ—‹çŸ©é˜µåä¸€ä¸ªæ•°ï¼Œ$(x+y)$å¢åŠ $1$ï¼Œå¦‚å›¾

![img](/Image/B1.HZOJ-photo/1659203-20190904184652942-1721871890-1623675339918.png)

æ‰€ä»¥åœ¨ä¸ŠåŠéƒ¨åˆ†ç¬¬$q$åœˆç¬¬$num$ä¸ªä¹Ÿå°±æ˜¯ä»$1$åˆ°$(i,j)$ä¸ªçš„å€¼,å› ä¸ºåœˆæ•°æ˜¯ç­‰å·®æ•°åˆ—ï¼Œæ‰€ä»¥åˆ©ç”¨ç­‰å·®æ•°åˆ—æ±‚å’Œå…¬å¼å¯ä»¥å¾—åˆ°

å‰é¢æœ‰å¤–é¢çš„åœˆæ•°+è¿™ä¸€åœˆçš„$num=y+x-2*q+1$ä¸ªæ•°,å°±æ˜¯ $\frac{(4(n-1)+4(n-2(q-1)+1))(q-1)}{2}+num$

åœ¨ä¸‹éƒ¨åˆ†éšç€èºæ—‹çŸ©é˜µæ–¹å‘,$(x+y)$é€æ¸å‡$1$,

æ‰€ä»¥ï¼Œå‰$q-1$åœˆçš„æ€»æ•°+$num=$ç¬¬$q$åœˆ$-(x+y-2*q)+1$

å°±æ˜¯$\frac{(4(n-1)+4(n-2q+1))q}{2}-num$



```cpp
 1 #include<bits/stdc++.h>
 2 using namespace std;
 3 const int maxn=1e4+5;
 4 int main()
 5 {
 6     int n,x,y;
 7     while(cin>>n>>x>>y)
 8     {
 9         int q=min(min(x,y),min(n-x+1,n-y+1));///åœˆæ•°
10 
11         int num;
12         if(x==y==q)
13             num=1;
14         else if(y>x)///ä¸ŠåŠéƒ¨åˆ†
15             num=y+x-2*q+1;
16         else///ä¸‹åŠéƒ¨åˆ† 
17             num=4*(n-2*q+1)-(x+y-2*q)+1;
18         cout<<2*((n-1)+(n-2*(q-1)+1))*(q-1)+num<<endl;
19     }
20 }
```



1    2   3     4     5

16  1   2     3    6

15  8   1    4    7

14  7    6    5   8

13 12  11  10  9

å¦‚æœè¦æ±‚ç¬¬äºŒå±‚çš„æŸä¸ªæ•°ï¼Œåªéœ€è¦å°†ä»–çš„ä¸Šä¸€å±‚(ç¬¬ä¸€å±‚)çš„(2,1)ä½ç½®çš„è¿™ä¸ªæ•°åŠ ä¸Š


```cpp
#include <iostream>
#include <cmath>
#include <algorithm>
using namespace std;

int calc(int n, int i, int j) {
    if (i == 1) return j;
    if (j == n) return n - 1 + i;
    if (i == n) return n * 3 -j - 1;
    if (j == 1) return 4 * n - i - 2;
    return 4 * (n - 1) + calc(n - 2, i - 1, j - 1);
}

int main(){
    int x, y, n;
    cin >> n >> x >> y;
    cout << calc(n, x, y) << endl;
    return 0;
}

```



#### å­—æ¯ç»„åˆ

å­—æ¯ A,B,C çš„æ‰€æœ‰å¯èƒ½çš„ç»„åˆæŒ‰ç…§å­—å…¸åºæ’åºåæ˜¯ï¼š

```asciiarmor
1   A
2   AB
3   ABC
4   AC
5   B
6   BC
7   C
```

åˆ¤æ–­ä»–æ˜¯å¦å±äºå‰nä¸ªè¿˜æ˜¯ån-1ä¸ª

```cpp
#include <iostream>
#include <cstdio>
#include <algorithm>
using namespace std;
#define MAXN 4000000

int n, k, ans_cnt, cnt;
char ans[30];
int sum[26] = {1, 1};



int main(){
    cin >> n >> k;
    for (int i = 2; i  < 27; ++i) {
        sum[i] = sum[i - 1] << 1;
    }
    char s = 'A';
    while (k > 0) {
        if (k <= sum[n]) {
            putchar(s);
            k--;;
        }
         else k -= sum[n];
        s++;
        n--;
    }
    return 0;
}

```



## é€’å½’

#### 235. é€’å½’å®ç°æŒ‡æ•°å‹æšä¸¾

 ä» 1âˆ’*ğ‘›*1âˆ’n è¿™ *ğ‘›*n ä¸ªæ•´æ•°ä¸­éšæœºé€‰å–ä»»æ„å¤šä¸ªï¼Œæ¯ç§æ–¹æ¡ˆé‡Œçš„æ•°ä»å°åˆ°å¤§æ’åˆ—ï¼ŒæŒ‰å­—å…¸åºè¾“å‡ºæ‰€æœ‰å¯èƒ½çš„é€‰æ‹©æ–¹æ¡ˆã€‚

```cpp
void p() {
    for (int i = 0; i < cnt; i++) {
        i && cout << " ";
        cout << num[i];
    }
    cout << endl;
}

int func(int start) {
    for (int i = start; i <= n; i++) {
        num[cnt++] = i;
        p();
        func(i + 1);
        cnt--;
    }
}
```

####  236. é€’å½’å®ç°ç»„åˆå‹æšä¸¾

 ä» 1âˆ’*ğ‘›*1âˆ’n è¿™ *ğ‘›*n ä¸ªæ•´æ•°ä¸­éšæœºé€‰å– *ğ‘š*m ä¸ªï¼Œæ¯ç§æ–¹æ¡ˆé‡Œçš„æ•°ä»å°åˆ°å¤§æ’åˆ—ï¼ŒæŒ‰å­—å…¸åºè¾“å‡ºæ‰€æœ‰å¯èƒ½çš„é€‰æ‹©æ–¹æ¡ˆã€‚

------

 æ ·ä¾‹è¾“å…¥

```
3 2
```

æ ·ä¾‹è¾“å‡º

```
1 2
1 3
2 3
```

```cpp
void p() {
    for (int i = 0; i < m; i++) {
        i && cout << " ";
        cout << num[i];
    }
    cout << endl;
    return ;
}

void func(int start, int left) {
    if (left == 0) {
        p();
        return ;
    }
    for (int i = start; i <= n - left + 1; i++) {
        num[cnt++] = i;
        func(i + 1, left - 1);
        cnt--;
    }
}
```

#### 37. é€’å½’å®ç°æ’åˆ—å‹æšä¸¾

 ä» 1âˆ’*ğ‘›*1âˆ’n è¿™ *ğ‘›*n ä¸ªæ•´æ•°æ’æˆä¸€æ’å¹¶æ‰“ä¹±æ¬¡åºï¼ŒæŒ‰å­—å…¸åºè¾“å‡ºæ‰€æœ‰å¯èƒ½çš„é€‰æ‹©æ–¹æ¡ˆã€‚

------

æ ·ä¾‹è¾“å…¥

```
3
```

æ ·ä¾‹è¾“å‡º

```
1 2 3
1 3 2
2 1 3
2 3 1
3 1 2
3 2 1
```

```cpp
void p() {
    for (int i = 1; i <= n; ++i) {
        i != 1 && cout << " ";
        cout << num[i];
    }
    cout << endl;
}


void func(int left) {
    if (left == 0) {
        p();
        return ;
    }
    for (int i = 1; i <= n; ++i) {
        if (mark[i] == 0) {
            mark[i] = 1;
            num[cnt++] = i;
            func(left - 1);
            cnt--;
            mark[i] = 0;
        }
    }
}
```





#### æ‰“å°å›¾å½¢

```c
#include <iostream>
#include <algorithm>
using namespace std;

int n, num[15], cnt = 1;

void p() {
    for (int i = 1; i < cnt; ++i) {
        if (i != 1) {
            cout << " ";
        }
        cout << num[i];
    }
    cout << endl;
    return ;
}

void func(int start) {
    for (int i = start; i <= n; ++i) {
        num[cnt++] = i;
        p();
        func(i + 1);
        cnt--;
    }
    return ;
}

int main() {
    cin >> n;
    func(1);
    return 0;
}

```



#### 240. å›¾å½¢æ‰“å°å››

å½“ *ğ‘›*n ä¸º 11 æ—¶ï¼Œå›¾å½¢å¦‚ä¸‹å›¾ï¼š

```
X
```

 å½“ *ğ‘›*n ä¸º 22 æ—¶ï¼Œå›¾å½¢å¦‚ä¸‹å›¾ï¼š

```
X X X X X
```

 å½“ *ğ‘›*â‰¥2nâ‰¥2 æ—¶ï¼Œå›¾å½¢è§„å¾‹å¦‚ä¸‹ï¼š

```
å›¾å½¢n-1    å›¾å½¢n-1
    å›¾å½¢n-1
å›¾å½¢n-1    å›¾å½¢n-1
```

 ç»™å®š *ğ‘›*n ç»„æ•°æ®ï¼Œè¾“å‡ºæ¯ç»„æ•°æ®å¯¹åº”çš„å›¾å½¢ã€‚

```cpp
int print(int x, int y, int n) {
    if (n == 1) {
        mmap[x][y] = 'X';
        return 0;
    }
    int len = pow(3, n - 2);
    print(x, y, n - 1);
    print(x, y + 2 * len, n - 1);
    print(x + 2 * len, y, n - 1);
    print(x + 2 * len, y + 2 * len, n - 1);
    print(x + len, y + len, n - 1);
    return 1;
}

int main() {
    print(1, 1, 7);
    int n = 0;
    while (cin >> n && n != -1) {
        for (int i = 1, I = pow(3, n - 1); i <= I; i++) {
            for (int j = 1; j <= I; j++) {
                cout << (mmap[i][j] == 'X' ? "X" : " ");
            }
            cout << endl;
        }
        cout << "-" << endl;
    }
    return 0;
}

```





## æ·±æœ

#### 229. å¼€é—¨

 æœ‰ä¸€ä¸ªå¸¦æœ‰æœºå…³çš„é—¨ï¼Œæœºå…³ä¸Šæœ‰ä¸€ä¸ª 4âˆ—44âˆ—4 çš„çŸ©é˜µï¼ŒçŸ©é˜µçš„æ¯ä¸ªä½ç½®ä¸Šæœ‰ä¸€ä¸ªå­—ç¬¦ï¼ˆåªèƒ½ä¸º ++ æˆ– âˆ’âˆ’ï¼‰ï¼Œå¯ä»¥é€‰å®šçŸ©é˜µä¸Šçš„ä¸€ç‚¹è¿›è¡Œå˜æ¢ï¼Œå˜æ¢æ—¶è¿™ä¸€ç‚¹æ‰€åœ¨çš„è¡Œå’Œåˆ—ä¸Šçš„æ‰€æœ‰ç‚¹éƒ½ä¼šè·Ÿç€å˜æ¢ï¼ˆ++ å˜æˆ âˆ’âˆ’ï¼Œâˆ’âˆ’ å˜æˆ ++ï¼‰ï¼Œåªæœ‰å½“çŸ©é˜µçš„æ‰€æœ‰ä½ç½®çš„å­—ç¬¦å‡ä¸º âˆ’âˆ’ æ—¶ï¼Œé—¨æ‰ä¼šæ‰“å¼€ã€‚æ±‚æœ€çŸ­éœ€è¦å˜æ¢å‡ æ¬¡æ‰èƒ½å¼€é—¨ã€‚

```cpp
int num[4][4];
struct Data {
    int num, step;
};
int check[MAX_N + 5];
void init() {
    for (int i = 0; i < 16; i++) {
        num[i / 4][i % 4] = 1 << i;
    }
}
int main() {
    init();
    queue<Data> que;
    char ch;
    int start = 0;
    for (int i = 0; i < 4; i++) {
        for (int j = 0; j < 4; j++) {
            cin >> ch;
            if (ch == '+') start += num[i][j];
        }
    }
    check[start] = 1;
    que.push({start, 0});
    while (!que.empty()) {
        Data cur = que.front();
        que.pop();
        for (int i = 0; i < 4; i++) {
            for (int j = 0; j < 4; j++) {
                int temp = cur.num;
                if (temp & num[i][j]) {
                    temp -= num[i][j];
                } else {
                    temp += num[i][j];
                }
                for (int k = 0; k < 4; k++) {
                    if (temp & num[i][k]) {
                        temp -= num[i][k];
                    } else {
                        temp += num[i][k];
                    }
                    if (temp & num[k][j]) {
                        temp -= num[k][j];
                    } else {
                        temp += num[k][j];
                    }
                }
                if (temp == 0) {
                    cout << cur.step + 1 << endl;
                    return 0;
                }
                if (check[temp] == 1) continue;
                check[temp] = 1;
                que.push({temp, cur.step + 1});
            }
        }
    }
    cout << "false" << endl;
    return 0;
}

```



#### HZOJ-297.å¯¼å¼¹æ‹¦æˆªç³»ç»Ÿ



### ç”Ÿæ—¥ç¤¼ç‰©

```cpp
#include <iostream>
#include <algorithm>
using namespace std;

int n, cost, num[45], set[2][3000005], cnt[2];

void func(int set_num, int start, int end, int sum) {
    if (sum > cost) return ;
    for (int i = start; i < end; i++) {
        sum += num[i];
        set[set_num][cnt[set_num]] = sum;
        cnt[set_num]++;
        func(set_num, i + 1, end, sum);
        sum -= num[i];
    }
}

int main() {
    while (cin >> n >> cost) {
        cnt[0] = cnt[1] = 1;
        for (int i = 0; i < n; i++) {
            cin >> num[i];
        }
        func(0, 0, n / 2, 0);
        func(1, n / 2, n, 0);
        sort(set[1], set[1] + cnt[1]);
        int f = 0;
        for (int i = 0; i < cnt[0]; i++) {
            int target = cost - set[0][i];
            int l = 0, r = cnt[1] - 1;
            while (l <= r) {
                int mid = (l + r) / 2;
                if (set[1][mid] == target) {
                    cout << "YES" << endl;
                    f = 1;
                    break;
                }
                if (set[1][mid] < target) {
                    l = mid + 1;
                } else {
                    r = mid - 1;
                }
            }
            if (f == 1) break;
        }
        if (f == 0) {
            cout << "NO" << endl;
        }
    }
    return 0;
}
```

### é—¨ç¥¨é—®é¢˜

```cpp
#include <iostream>
#include <algorithm>
using namespace std;

int l, c, cnt, ans_cnt, ycnt, fcnt;
char let[30], ans[30];

int func(int s, int left) {
    if (left == 0) {
        if (!(ycnt >= 1 && fcnt >= 2)) return 0;
        for (int i = 0; i < l; i++) {
            cout << ans[i];
        }
        cout << endl;
        cnt++;
        if (cnt == 25000) return -1;
        return 0;
    }
    for (int i = s; i < c; i++) {
        ans[ans_cnt++] = let[i];
        int flag = 0;
        if (let[i] == 'a' ||
            let[i] == 'e' ||
            let[i] == 'o' ||
            let[i] == 'i' ||
            let[i] == 'u') {
            ycnt++;    
        } else {
            fcnt++;
            flag = 1;
        }
        if (func(i + 1, left - 1) == -1) {
            return -1;
        }
        if (flag == 1) {
            fcnt--;
        } else {
            ycnt--;
        }
        ans_cnt--;
    }
}

int main() {
    cin >> l >> c;
    for (int i = 0; i < c; i++) {
        cin >> let[i];
    }
    sort(let, let + c);
    func(0, l);
    return 0;
}
```

### è¿é€šå—

### é»‘è‰²åŒºåŸŸ

```cpp
#include <iostream>
#include <cstdio>
#include <algorithm>
using namespace std;
const int MAX_N = 100;

char mmap[MAX_N + 5][MAX_N + 5];
int n, m, ans, cnt;
int dir[4][2] = { {1, 0}, {-1, 0}, {0, 1}, {0, -1} };

void dfs(int row, int col) {
    for (int i = 0; i < 4; ++i) {
        int x = row + dir[i][0];
        int y = col + dir[i][1];
        if (mmap[x][y] == '1') {
            cnt++;
            mmap[x][y] = '0';
            dfs(x, y);
        }
    }
}

int main() {
    int id = 0;
    cin >> n >> m;
    for (int i = 1; i <= n; ++i) {
        for (int j = 1; j <= m; ++j) {
            cin >> mmap[i][j];
        }
    }

    for (int i = 1; i <= n; ++i) {
        for (int j = 1; j <= m; ++j) {
            if (mmap[i][j] == '1') {
                mmap[i][j] = '0';
                cnt = 1;
                dfs(i, j);
                ans = max(ans, cnt);
            }
        }
    }

cout << ans;
return 0;
}

```

#### 83. N åˆ†

 ç»™å®šä¸€ä¸ªæ­£æ•´æ•° *ğ‘›*nï¼ŒæŠŠå®ƒç”¨æ­£æ•´æ•°åˆ†æˆ *ğ‘š*m ä»½ï¼Œæ±‚æœ‰å¤šå°‘ç§ä¸åŒçš„åˆ†æ³•ã€‚

```cpp
int dfs(int cur, int sum, int left) {
    if (left == 1 || left == 0) {
        return 1;
    }
    int cnt = 0;
    for (int i = cur; i <= sum / left; i++) {
        cnt += dfs(i, sum - i, left - 1);
    }
    return cnt;
}

int main() {
    int n, m;
    cin >> n >> m;
    int cnt = 0;
    for (int i = 1; i <= n / m; i++) {
        cnt += dfs(i, n - i, m - 1);
    }
    cout << cnt << endl;
  
```





## å¹¿æœ

#### 81. å°æ˜å›å®¶

 å°æ˜çœ‹å®Œäº†ç”µå½±ï¼Œæ˜¯æ—¶å€™å›å®¶äº†ï¼Œå¯æ˜¯è¿™æ—¶ä»–çªç„¶å¾—çŸ¥å°ç±³ä¹‹å®¶çš„å°ç±³9ç°è´§å¼€å–äº†ï¼Œè¿™æ¬¾æ‰‹æœºå°æ˜å·²ç»æƒ³äº†ä¸€ä¸ªå¤šæœˆï¼ŒçŸ¥é“è¿™ä¸ªæ¶ˆæ¯åçš„ä»–ååˆ†å…´å¥‹ï¼Œä¸€å®šè¦åœ¨å›å®¶ä¹‹å‰å…ˆå»å°ç±³ä¹‹å®¶ä¹°æ‰‹æœºï¼ˆåŸå¸‚ä¸­æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªå°ç±³ä¹‹å®¶ï¼‰ï¼Œè¯·è®¡ç®—å°æ˜ä»ç”µå½±é™¢åˆ°ä»»æ„ä¸€ä¸ªå°ç±³ä¹‹å®¶ä¹°æ‰‹æœºåå›å®¶çš„æœ€çŸ­è·ç¦»ï¼ˆåªèƒ½æœä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘è¡Œèµ°ï¼Œé™¤äº†éšœç¢ç‰©å¤–ï¼Œå…¶ä»–åœ°æ–¹éƒ½å¯ä»¥é€šè¿‡ï¼‰ï¼Œæ•°æ®ä¿è¯å¯ä»¥ä¹°å®Œæ‰‹æœºåå›å®¶ã€‚

```cpp
 while (!que.empty()) {
        Data cur = que.front();
        que.pop();
        for (int i = 0; i < 4; i++) {
            int x = cur.x + dir[i][0];
            int y = cur.y + dir[i][1];
            if (cur.flag == 1 && grid[x][y] == 'T') {
                cout << cur.step + 1 << endl;
                return 0;
            }
            if (grid[x][y] == 'P' && (check[x][y] & 2) == 0) {
                check[x][y] |= 2;
                que.push({x, y, cur.step + 1, 1});
            }
            if (grid[x][y] == 'S' 
                || grid[x][y] == '.' 
                || grid[x][y] == 'T'
                || grid[x][y] == 'P') {
                    if (cur.flag == 0 && (check[x][y] & 1) == 0) {
                        check[x][y] |= 1;
                        que.push({x, y, cur.step + 1, 0});
                    } else if (cur.flag == 1 && (check[x][y] & 2) == 0){
                        check[x][y] |= 2;
                        que.push({x, y, cur.step + 1, 1});
                    }
            }
        }
    }


```







#### oj-306. å­—ä¸²å˜æ¢

```cpp
unordered_map<string, int> check;
string dir[7][2];
struct Data {
    string str;
    int step;
};

int main() {
    string start, end;
    cin >> start >> end;
    int n = 0;
    while (cin >> dir[n][0] >> dir[n][1]) n++;
    queue<Data> que;
    que.push({start, 0});
    check[start] = 1;
    while (!que.empty()) {
        for (int i = 0; i < n; i++) {
            int j = 0;
            while (1) {
                Data cur = que.front();
                long long x = cur.str.find(dir[i][0], j);
                j  = x + 1;
                if (x != string::npos) {
                    cur.str.replace(x, dir[i][0].size(), dir[i][1]);
                    cur.step++;
                    if (cur.str == end) {
                        cout << cur.step << endl;
                        return 0;
                    }
                    //cout << "1-5 : <" << cur.step << "> : " << cur.str << endl;
                    if (cur.step > 5) continue;
                    if (check[cur.str]) continue;
                    check[cur.str] = cur.step;
                    que.push(cur);
                } else {
                    break;
                }
            }
        }
        que.pop();
    }
    que.push({end, 0});
    check[end] = -1;
    while (!que.empty()) {
        for (int i = 0; i < n; i++) {
            int j = 0;
            while (1) {
                Data cur = que.front();
                long long x = cur.str.find(dir[i][1], j);
                j  = x + 1;
                if (x != string::npos) {
                    cur.str.replace(x, dir[i][1].size(), dir[i][0]);
                    cur.step++;
                    if (cur.step > 5) continue;
                    //cout << "5-10 : <" << cur.step << "> : " << cur.str << endl;
                    if (check[cur.str] > 0) {
                        cout << check[cur.str] + cur.step<< endl;
                        return 0;
                    } 
                    check[cur.str] = -cur.step;
                    que.push(cur);
                } else {
                    break;
                }
            }
        }
        que.pop();
    }

    cout << "NO ANSWER!" << endl;


    return 0;
}

```



#### 530. è­¦å¯Ÿæ‰¾è½¦

 å¹´è½»çš„æ‹‰å°”å¤«å¼€ç©ç¬‘åœ°ä»ä¸€ä¸ªå°é•‡ä¸Šå·èµ°ä¸€è¾†è½¦ï¼Œä½†ä»–æ²¡æƒ³åˆ°çš„æ˜¯é‚£è½¦å±äºè­¦å¯Ÿå±€ã€‚å¹¶ä¸”è½¦ä¸Šè£…æœ‰ç”¨äºå‘å°„è½¦å­ç§»åŠ¨è·¯çº¿çš„è£…ç½®ã€‚é‚£ä¸ªè£…ç½®å¤ªæ—§äº†ï¼Œä»¥è‡³äºåªèƒ½å‘å°„å…³äºé‚£è¾†è½¦çš„ç§»åŠ¨è·¯çº¿çš„æ–¹å‘ä¿¡æ¯ã€‚

 é€šè¿‡ä½¿ç”¨ä¸€å¼ å°é•‡çš„åœ°å›¾ï¼Œå¸®åŠ©è­¦å¯Ÿå±€æ‰¾åˆ°é‚£è½¦ã€‚è¡¨ç¤ºå‡ºè¯¥è½¦æœ€ç»ˆæ‰€æœ‰å¯èƒ½çš„ä½ç½®ã€‚

 å°é•‡çš„åœ°å›¾æ˜¯çŸ©å½¢çš„ï¼Œä¸Šé¢çš„ç¬¦å·ç”¨æ¥æ ‡æ˜é‚£å„¿å¯ä»¥è¡Œè½¦å’Œé‚£å„¿ä¸è¡Œã€‚â€œ.â€â€œ.â€ è¡¨ç¤ºå°é•‡ä¸Šé‚£å—åœ°æ–¹æ˜¯å¯ä»¥è¡Œè½¦çš„ï¼Œç¬¦å· â€œ*ğ‘‹*â€â€œXâ€ è¡¨ç¤ºæ­¤å¤„ä¸èƒ½è¡Œè½¦ã€‚æ‹‰å°”å¤«æ‰€å¼€å°è½¦çš„åˆå§‹ä½ç½®ï¼Œç”¨å­—ç¬¦çš„ â€œâˆ—â€â€œâˆ—â€ï¼Œè¡¨ç¤ºï¼Œä¸”æ±½è½¦èƒ½ä»åˆå§‹ä½ç½®é€šè¿‡ã€‚æ±½è½¦èƒ½å‘å››ä¸ªæ–¹å‘ç§»åŠ¨ï¼šå‘åŒ—ï¼ˆä¸Šï¼‰ï¼Œå—ï¼ˆä¸‹ï¼‰ï¼Œè¥¿ï¼ˆå·¦ï¼‰ï¼Œä¸œï¼ˆå³ï¼‰ï¼›æ‹‰å°”å¤«æ‰€å¼€å°è½¦çš„è¡ŒåŠ¨è·¯çº¿æ˜¯é€šè¿‡ä¸€ç»„ç»™å®šçš„æ–¹å‘æ¥æè¿°çš„ï¼Œåœ¨æ¯ä¸ªç»™å®šçš„æ–¹å‘ï¼Œæ‹‰å°”å¤«é©¾é©¶å°è½¦é€šè¿‡å°é•‡ä¸Šçš„ä¸€ä¸ªæˆ–æ›´å¤šçš„å¯è¡Œè½¦åœ°ç‚¹ã€‚



```cpp
#include <iostream>
#include <algorithm>
#include <cstdio>
#include <cstdlib>
#include <cmath>
#include <cstring>
#include <string>
#include <vector>
#include <set>
#include <map>
#include <queue>
using namespace std;
#define MAX_N 50
#define MAX_M 1000
char matrix[MAX_N + 5][MAX_N + 5];
int check[MAX_N + 5][MAX_N + 5];
char str[20];
int op[MAX_M + 5];
int dir[4][2] = {-1, 0, 1, 0, 0, -1, 0, 1};
int n, m, k;
struct Data {
    int x, y, step;
};

int main() {
    cin >> n >> m;
    queue<Data> que;
    for (int i = 1; i <= n; i++) {
        for (int j = 1; j <= m; j++) {
            cin >> matrix[i][j];
            if (matrix[i][j] == '*') {
                que.push({i, j, 0});
                matrix[i][j] = '.';
            }
        }
    }
    cin >> k;
    for (int i = 0; i < k; i++) {
        cin >> str;
        if (str[0] == 'N') op[i] = 0; 
        else if (str[0] == 'S') op[i] = 1;
        else if (str[0] == 'W') op[i] = 2;
        else op[i] = 3;
    }
    for (int i = 0; i < k; i++) {
        memset(check, 0, sizeof(check));
        int size = que.size();
        while (size--) {
            Data cur = que.front();
            que.pop();
            for (int j = 1; ;j++) {
                int x = cur.x + j * dir[op[i]][0];
                int y = cur.y + j * dir[op[i]][1];
                if (matrix[x][y] != '.') break;
                if (check[x][y] == 0) {
                    check[x][y] = 1;
                    que.push({x, y});
                }
            }
        }
    }
    while (!que.empty()) {
        Data cur = que.front();
        que.pop();
        matrix[cur.x][cur.y] = '*';
    }
    for (int i = 1; i <= n; i++) {
        cout << matrix[i] + 1 << endl;
    }
    return 0;
}

```



####  531. å¥‡æ€ªçš„ç”µè§†

ç°åœ¨å¸®åŠ©å°æ˜è®¡ç®—ï¼Œä»ç»™å®šçš„çŠ¶æ€åˆ°åªæœ‰æŒ‰é’®3å·¥ä½œï¼Œè€Œå…¶ä»–æŒ‰é’®éƒ½è¢«é‡Šæ”¾è¿™ä¸ªæœ€ç»ˆçŠ¶æ€æ‰€éœ€æŒ‰ä¸‹çš„æŒ‰é’®åºåˆ—çš„æœ€çŸ­é•¿åº¦ã€‚

 ç¬¬ä¸€è¡Œä¸€ä¸ªæ•´æ•° *ğ‘*Nï¼Œè¡¨ç¤ºæŒ‰é’®æ•°ã€‚ï¼ˆ3â‰¤*ğ‘*â‰¤20ï¼‰ï¼ˆ3â‰¤Nâ‰¤20ï¼‰

 ç¬¬äºŒè¡ŒåŒ…å« *ğ‘*N ä¸ªæ•°ï¼Œè¡¨ç¤ºå„æŒ‰é’®çš„åˆå§‹çŠ¶æ€ã€‚00 è¡¨ç¤ºç›¸åº”çš„æŒ‰é’®æ˜¯é‡Šæ”¾çš„ï¼Œ11 è¡¨ç¤ºç›¸åº”çš„æŒ‰é’®æ˜¯æŒ‰ä¸‹çš„ã€‚

 æ¥ä¸‹æ¥çš„ *ğ‘*N è¡Œï¼Œè¡¨ç¤ºæŒ‰ä¸‹æŸä¸ªæŒ‰é’®æ—¶å°†æœ‰é‚£äº›æŒ‰é’®è¢«é‡Šæ”¾ã€‚ç¬¬ *ğ‘€*+2M+2 è¡Œç”±æ•°å­— *ğ¾*K å¼€å¤´ï¼Œç´§è·Ÿç€ *ğ¾*K ä¸ªæ•°å­—ï¼ˆæŒ‰å‡åºæ’åˆ—ï¼‰ï¼Œè¡¨ç¤ºå½“æŒ‰ä¸‹æŒ‰é’® *ğ‘€*M æ—¶è¢«é‡Šæ”¾çš„æŒ‰é’®æ•°åŠæŒ‰é’®å·ç ï¼ˆæŒ‰é’®å·ç ç”¨æ•°å­— 1âˆ¼*ğ‘€*1âˆ¼M è¡¨ç¤ºï¼‰ã€‚æ¯ä¸ªæŒ‰é’®ä¸èƒ½é‡Šæ”¾å…¶æœ¬èº«ï¼Œä¹Ÿå¯èƒ½ä¸é‡Šæ”¾ä»»ä½•æŒ‰é’®ã€‚

 è¾“å‡ºä¸€ä¸ªæ•°ï¼Œè¡¨ç¤ºä»ç»™å®šçš„çŠ¶æ€åˆ°åªæœ‰æŒ‰é’®3å·¥ä½œè€Œå…¶ä»–æŒ‰é’®éƒ½è¢«é‡Šæ”¾è¿™ä¸ªæœ€ç»ˆçŠ¶æ€æ‰€éœ€æŒ‰ä¸‹çš„æŒ‰é’®åºåˆ—çš„æœ€çŸ­é•¿åº¦ã€‚

------

####

```
5
1 1 0 0 1
4 2 3 4 5
4 1 3 4 5
2 2 4
0
4 1 2 3 4
```

é‡ç‚¹åœ¨çŠ¶æ€è½¬ç§»

```cpp
#include <iostream>
#include <algorithm>
#include <cstdio>
#include <cstdlib>
#include <cmath>
#include <cstring>
#include <string>
#include <vector>
#include <set>
#include <queue>
#include <map>
using namespace std;
#define MAX_N 20
int digit[MAX_N + 5];
int arr[MAX_N + 5];
int check[21000000];
int n, start;
struct Data {
    int status, step;
};

void init() {
    digit[0] = 1;
    for (int i = 1; i < 22; i++) {
        digit[i] = digit[i - 1] * 2;
    }
}

int main() {
    init();
    cin >> n;
    for (int i = 1, x; i <= n; i++) {
        cin >> x;
        start += x == 1 ? digit[i] : 0;
    }

    for (int i = 1, op, x; i <= n; i++) {
        cin >> op;
        while (op--) {
            cin >> x;
            arr[i] += digit[x];
        }

    }
    queue<Data> que;
    que.push({start, 0});
    check[start] = 1;
    while (!que.empty()) {
        Data cur = que.front();
        que.pop();
        if (cur.status  == digit[3]) {
            cout << cur.step << endl;
            return 0;
        }
        for (int i = 1; i <= n; i++) {
            int x = cur.status;
            if (x & digit[i]) continue;
            x += digit[i];
            x &= ~arr[i];
            if (check[x]) continue;
            que.push({x, cur.step + 1});
            check[x] = 1;
        }
    }
    cout << -1 << endl;
    return 0;
}

```





## å›¾

#### 290. å¯è¾¾æ€§ç»Ÿè®¡



 ç»™å®šä¸€å¼ æœ‰ *ğ‘*N ä¸ªç‚¹ *ğ‘€*M æ¡è¾¹çš„æœ‰å‘æ— ç¯å›¾ï¼Œåˆ†åˆ«ç»Ÿè®¡ä»æ¯ä¸ªç‚¹å‡ºå‘èƒ½å¤Ÿåˆ°è¾¾çš„ç‚¹çš„æ•°é‡ã€‚

------

è¾“å…¥

 ç¬¬ä¸€è¡Œè¾“å…¥ä¸¤ä¸ªæ•´æ•° *ğ‘*,*ğ‘€*N,Mã€‚ï¼ˆ1â‰¤*ğ‘*,*ğ‘€*â‰¤30000ï¼‰ï¼ˆ1â‰¤N,Mâ‰¤30000ï¼‰

 æ¥ä¸‹æ¥ *ğ‘€*M è¡Œï¼Œæ¯è¡Œä¸¤ä¸ªæ•° *ğ‘¥*,*ğ‘¦*x,yï¼Œè¡¨ç¤ºæœ‰ä¸€æ¡ä» *ğ‘¥*x ç‚¹åˆ° *ğ‘¦*y ç‚¹çš„æœ‰å‘è¾¹ã€‚

è¾“å‡º

 è¾“å‡ºå…± *ğ‘*N è¡Œï¼Œæ¯è¡Œä¸€ä¸ªæ•°ï¼Œç¬¬ *ğ‘–*i è¡Œçš„æ•°è¡¨ç¤ºä»ç¼–å·ä¸º *ğ‘–*i çš„ç‚¹å‡ºå‘èƒ½å¤Ÿåˆ°è¾¾çš„ç‚¹çš„æ•°é‡ã€‚

```cpp
#include <queue>
#include <bitset>
#include <iostream>
using namespace std;

int num[30005], ans[30005];
vector<int> e[30005], a;
bitset<30005> b[30005];
queue<int> q;

int main() {
	int n, m;
	cin >> n >> m;
	for (int i = 1; i <= m; i++) {
		int x, y;
		cin >> x >> y;
		e[x].push_back(y);
		num[y]++;
		b[x][y] = 1;
	}
	for (int i = 1; i <= n; i++) {
        if (!num[i]) {
            q.push(i);
        }
    }
	while (!q.empty()) {
		int x = q.front();
		q.pop();
		a.push_back(x);
		for (int i = 0; i < e[x].size(); i++) {
			int y = e[x][i];
            num[y]--;
			if (num[y] == 0) q.push(y);
		}
	}
	for (int i = 1; i <= n; i++) {
        b[i][i] = 1;
    }
	for (int i = a.size() - 1; i >= 0; i--) {
		int x = a[i];
		for (int j = 0; j < e[x].size(); j++) {
			b[x] |= b[e[x][j]];
        }
		ans[x] = b[x].count();
	}
	for (int i = 1; i <= n; i++) {
        cout << ans[i] << endl;
    }
	return 0;
}
 
```







## è´ªå¿ƒ

#### 508. ä¸¤äººè¿‡æ²³

 æœ‰ *ğ‘›*n ä¸ªäººå¸Œæœ›åœ¨æ™šä¸Šé€šè¿‡ä¸€åº§æ¡¥ã€‚åœ¨ä»»ä½•æ—¶åˆ»ï¼Œæœ€å¤šåªèƒ½æœ‰ä¸¤ä¸ªäººåœ¨æ¡¥ä¸Šï¼Œå¹¶ä¸”å¿…é¡»è¦å¸¦ç€æ‰‹ç”µç­’æ‰èƒ½è¿‡æ¡¥ã€‚ç°åœ¨åªæœ‰ä¸€ä¸ªæ‰‹ç”µç­’ï¼Œæ‰€ä»¥å¿…é¡»å®‰æ’æŸç§é¡ºåºï¼Œä½¿å¾—æ‰‹ç”µç­’å¯ä»¥è¢«å¸¦å›å»è®©æ›´å¤šçš„äººè¿‡æ¡¥ã€‚æ¯ä¸ªäººéƒ½æœ‰ä¸åŒçš„è¿‡æ¡¥æ—¶é—´ï¼Œä¸¤ä¸ªäººä¸€èµ·è¿‡æ¡¥æ‰€ç”¨çš„æ—¶é—´ç­‰äºå…¶ä¸­è¾ƒæ…¢çš„ä¸€ä¸ªäººçš„è¿‡æ¡¥æ—¶é—´ã€‚ç°æ±‚æ‰€æœ‰äººè¿‡æ¡¥çš„æœ€çŸ­æ—¶é—´ã€‚

ä¸€ç§ï¼šæ‰‹ç”µæ•ˆç‡ä¼˜å…ˆï¼šè®©æœ€æ…¢çš„ä¸¤äººå»ï¼Œæœ€å¿«çš„ä¸¤äººä¼šæ¥

ä¸€ç§ï¼šæ‰‹ç”µä¼ é€’ä¼˜å…ˆï¼šç”±æœ€å¿«çš„äººé€æœ€æ…¢çš„ä¸¤äºº







### HZOJ-256-å›½ç‹æ¸¸æˆ

è¿›è¡Œæ•°å­¦åŒ–è¡¨ç¤ºï¼Œæ’åºç­–ç•¥ï¼ˆå¾®æ‰°çš„æ€è€ƒæ–¹å¼ï¼‰ï¼Œéšæ„å‡è®¾ä¸€ç§é¡ºåºï¼Œèƒ½å¤Ÿäº¤æ¢æ›´ä¼˜ï¼›

```cpp
/*************************************************************************
   > File Name: 256.cpp
   > Author: hug
   > Mail:   hug@haizeix.com
   > Created Time: æ—¥  2/16 20:24:13 2020
 ************************************************************************/

#include <iostream>
#include <cstdio>
#include <cstdlib>
#include <cstring>
#include <algorithm>
#include <vector>
#include <map>
#include <cmath>
#include <queue>
using namespace std;
#define MAX_N 1000
int a[MAX_N + 5], b[MAX_N + 5];
int ind[MAX_N + 5];

bool cmp(int i, int j) {
    return a[i] * b[i] < a[j] * b[j];
}

struct BigInt {
    BigInt(int x) {
        num.push_back(x);
        proccess_digit();
    }
    BigInt(vector<int> ret) : num(ret) {}
    BigInt operator/(int x) {
        int temp = 0, i = num.size() - 1;
        while (i >= 0 && temp * 10 + num[i] < x) temp = temp * 10 + num[i--];
        if (i < 0) return BigInt(0);
        vector<int> ret(i + 1);
        while (i >= 0) {
            temp = temp * 10 + num[i];
            ret[i] = temp / x;
            temp %= x;
            i--;
        }
        return ret;
    }
    bool operator>(BigInt &obj) {
        if (num.size() - obj.num.size()) return num.size() > obj.num.size();
        for (int i = num.size() - 1; i >= 0; i--) {
            if (num[i] - obj.num[i]) return num[i] > obj.num[i];
        }
        return false;
    }
    void operator*=(int x) {
        for (int i = 0; i < num.size(); i++) num[i] *= x;
        proccess_digit();
        return ;
    }
    void proccess_digit() {
        for (int i = 0; i < num.size(); i++) {
            if (num[i] < 10) continue;
            if (i + 1 == num.size()) num.push_back(0);
            num[i + 1] += num[i] / 10;
            num[i] %= 10;
        }
        return ;
    }
    vector<int> num;
};

ostream &operator<<(ostream &out, const BigInt &obj) {
    for (int i = obj.num.size() - 1; i >= 0; i--) {
        out << obj.num[i];
    }
    return out;
}

int main() {
    int n;
    cin >> n;
    for (int i = 0; i <= n; i++) cin >> a[i] >> b[i], ind[i] = i;
    sort(ind + 1, ind + 1 + n, cmp);
    
    BigInt p = a[ind[0]], ans = 0;
    for (int i = 1; i <= n; i++) {
        BigInt temp = p / b[ind[i]];
        if (temp > ans) ans = temp;
        p *= a[ind[i]];
    }
    cout << ans << endl;
    return 0;
}
```

### æœ€å¤§å­é˜µå’Œ

ä¸€ç»´é—®é¢˜:æœ€å¤§å­æ®µå’Œé—®é¢˜:é€šè¿‡å‰ç¼€å’Œæ•°ç»„:maxside = sum - pre;å½“å‰sum-å‰é¢æœ€å°sum

äºŒç»´é—®é¢˜:é€šè¿‡æšä¸¾iè¡Œåˆ°jè¡Œ;å¯ä»¥ç¡®å®šé«˜åº¦ä¸ºi-j;é€šè¿‡æ¯ä¸€åˆ—çš„å’Œå€¼,(å‹ç¼©æŸåˆ—iè¡Œåˆ°jè¡Œä¸ºä¸€ä¸ªå’Œå€¼),è½¬åŒ–ä¸ºä¸€ç»´é—®é¢˜,æ±‚æœ€å¤§å€¼;

```cpp
#include <iostream>
#include <algorithm>
using namespace std;
#define MAX_N 100
int arr[MAX_N + 5][MAX_N + 5];
int main() {
    int n;
    cin >> n;
    for (int i = 1; i <= n; ++i) {
        for (int j = 1; j <= n; ++j) {
            cin >> arr[i][j];
            arr[i][j] += arr[i - 1][j];
        }
    }
    int ans = 0x80000000;
    for (int i = 1; i <= n; ++i) {
        for (int j = i;  j <= n; ++j) {
            int pre = 0, sum = 0, temp, val = 0x80000000;
            for (int  k = 1; k <= n; ++k) {
                sum += arr[j][k] - arr[i - 1][k];
                val = max(val, sum - pre);
                pre = min(pre, sum);
            }
            ans = max(ans, val);
        }
    }
    cout << ans << endl;

    return 0;
}

```



#### 504. åˆ æ•°

 è¾“å…¥ä¸€ä¸ªé«˜ç²¾åº¦çš„æ­£æ•´æ•° *ğ‘›*nï¼ˆé•¿åº¦ä¸å¤§äº 240240 ä½ï¼‰ï¼Œå»æ‰å…¶ä¸­ä»»æ„ *ğ‘ *s ä¸ªæ•°å­—åå‰©ä¸‹çš„æ•°å­—æŒ‰åŸå·¦å³æ¬¡åºå°†ç»„æˆä¸€ä¸ªæ–°çš„æ­£æ•´æ•°ï¼Œç°æ±‚ä¸€ç§æ–¹æ¡ˆï¼Œä½¿å¾—æ–°çš„æ­£æ•´æ•°æ•°å€¼æœ€å°ã€‚



```cpp
int main() {
    string num;
    int cnt = 0;
    cin >> num >> cnt;
    char que[250];
    int head = 0, tail = -1;
    for (int i = 0; num[i]; i++) {
        while (cnt && tail >= 0 && num[i] < que[tail]) tail--, cnt--;
        que[++tail] = num[i];
    }
    while (tail >= head && que[head] == '0') head++;
    for (int i = head; i <= tail - cnt; i++) {
        cout << que[i]; 
    }
    cout << endl;
    return 0;
}

```





## é€’æ¨

#### 233. æœ€é«˜çš„å¥¶ç‰›

 *ğ‘*N å¤´ç‰›ç«™æˆä¸€è¡Œã€‚ä¸¤å¤´ç‰›èƒ½å¤Ÿç›¸äº’çœ‹è§ï¼Œå½“ä¸”ä»…å½“å®ƒä»¬ä¸­é—´çš„ç‰›èº«é«˜éƒ½æ¯”å®ƒä»¬çŸ®ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬åªçŸ¥é“å…¶ä¸­æœ€é«˜çš„ç‰›æ˜¯ç¬¬ *ğ‘ƒ*P å¤´ï¼Œå®ƒçš„èº«é«˜æ˜¯ *ğ»*H ï¼Œä¸çŸ¥é“å‰©ä½™ *ğ‘*âˆ’1Nâˆ’1 å¤´ç‰›çš„èº«é«˜ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬è¿˜çŸ¥é“ *ğ‘€*M å¯¹å…³ç³»ï¼Œæ¯å¯¹å…³ç³»éƒ½æŒ‡æ˜äº†æŸä¸¤å¤´ç‰› *ğ´**ğ‘–*,*ğµ**ğ‘–*Ai,Bi å¯ä»¥ç›¸äº’çœ‹è§ã€‚æ±‚æ¯å¤´ç‰›çš„èº«é«˜æœ€å¤§å¯èƒ½æ˜¯å¤šå°‘ã€‚

```cpp
for (int i = 1; i <= n; i++) {
        arr[i] = h;
    }
    while (m--) {
        int a, b;
        cin >> a >> b;
        if (a > b) swap(a, b);
        int x = min(arr[a], arr[b]), flag = 1;
        for (int j = a + 1; j < b; j++) {
            if (arr[j] < x) continue;
            flag = 0;
        }
        if (!flag) {
            for (int j = a + 1; j < b; j++) {
                arr[j] -= 1;
            }
        }
    }

```





## dpåŠ¨å½’

#### 231. å¥‡æ€ªçš„æ±‰è¯ºå¡”

 è§£å‡º *ğ‘›*n ä¸ªç›˜å­ 44 åº§å¡”çš„æ±‰è¯ºå¡”é—®é¢˜æœ€å°‘éœ€è¦å¤šå°‘æ­¥ã€‚

------

```cpp
    int f[15] = {0, 1}, ans[15];
    for (int i = 2; i < 14; ++i) {
        f[i] = 2 * f[i - 1] + 1;
    }
    memset(ans, 0x3F, sizeof(ans));
    ans[0] = 0;
    ans[1] = 1;
    for (int i = 2; i < 13; ++i) {
        for (int j = 1; j < i; ++j) {
            ans[i] = min(ans[i], ans[j] * 2 + f[i - j]);
        }
    }

```





### æ ¸ç”µç«™

ç”¨s[i][0]å’Œs[i][1]æ¥è¡¨ç¤ºç¬¬iä¸ªæ ¸ç”µç«™ä¸æ”¾æˆ–æ”¾ä¸”ä¸çˆ†ç‚¸çš„æ€»æ–¹æ¡ˆæ•°

$s[i][0]=s[i-1][0]+s[i-1][1](1â‰¤iâ‰¤n)$

$s[i][1]=\begin{Bmatrix}s[i-1][0]+s[i-1][1]&(i<m)\cr s[i-1][0]+s[i-1][1]-1&(i=m)\cr s[i-1][0]+s[i-1][1]-s[i-m][0]&(i>m)\cr\end{Bmatrix}$

```cpp
#include <iostream>
#include <algorithm>
using namespace std;
#define MAX_N 50

long long f[MAX_N + 5];

int main() {
    int n, m;
    cin >> n >> m;
    f[0] =  1;
    for (int i = 1; i < m; i++) {
        f[i] = 2 * f[i - 1];
    }
    f[m] = 2 * f[m - 1] - 1;
    for (int i = m + 1; i <= n; ++i) {
        f[i] = 2 * f[i - 1] - f[i - m - 1];
    }
    cout << f[n] << endl;
    return 0;
}

```



### æœ€é•¿ä¸Šå‡å­åºåˆ—

å¯¼å¼¹æ‹¦æˆª

Dilworthå®šç†ï¼šå¯¹äºä¸€ä¸ªååºé›†ï¼Œæœ€å°‘é“¾åˆ’åˆ†ç­‰äºæœ€é•¿åé“¾é•¿åº¦ã€‚
Dilworthå®šç†çš„å¯¹å¶å®šç†ï¼šå¯¹äºä¸€ä¸ªååºé›†ï¼Œå…¶æœ€å°‘åé“¾åˆ’åˆ†æ•°ç­‰äºå…¶æœ€é•¿é“¾çš„é•¿åº¦ã€‚
 **ä¹Ÿå°±æ˜¯è¯´æŠŠä¸€ä¸ªæ•°åˆ—åˆ’åˆ†æˆæœ€å°‘çš„æœ€é•¿ä¸å‡å­åºåˆ—çš„æ•°ç›®å°±ç­‰äºè¿™ä¸ªæ•°åˆ—çš„æœ€é•¿ä¸Šå‡å­åºåˆ—çš„é•¿åº¦ã€‚**

ã€€å…ˆæ¥è¯´ä¸€ä¸‹nlognçš„æ±‚è§£æ€æƒ³ï¼Œä»¤f[i]ä»£è¡¨é•¿åº¦ä¸ºiçš„æ‰€æœ‰æœ€é•¿ä¸ä¸‹é™å­åºåˆ—çš„æœ€åä¸€ä½çš„æœ€å°å€¼æ˜¯å¤šå°‘ã€‚ä¸ºä»€ä¹ˆè¦è®°å½•æœ€å°æ˜¯å¤šå°‘é‚£ï¼Ÿå› ä¸ºæˆ‘ä»¬æƒ³è¦è¿™ä¸ªåºåˆ—æœ€é•¿ï¼Œé‚£ä¹ˆåªæœ‰æœ«å°¾æœ€å°æ‰èƒ½æœ‰æ›´å¤šçš„æ•°æ¥åˆ°å®ƒçš„åé¢æ„æˆä¸€ä¸ªæ›´é•¿çš„åºåˆ—ã€‚è¿™æ—¶æˆ‘ä»¬å°±èƒ½å¾—åˆ°ä¸€ä¸ªæ€§è´¨ï¼šfæ•°ç»„æ˜¯é€’å¢çš„ã€‚è¯æ˜ï¼šf[i]ä»£è¡¨çš„æ˜¯é•¿åº¦ä¸ºiçš„æœ€é•¿ä¸ä¸‹é™å­åºåˆ—çš„ç»“å°¾æœ€å°çš„æ•°ï¼Œå¦‚æœå®ƒåé¢æ¥äº†ä¸€ä¸ªæ¯”å®ƒå¤§çš„æ•°ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°ä¸€å®šèƒ½æ„æˆè‡³å°‘é•¿åº¦ä¸ºi+1çš„æœ€é•¿ä¸ä¸‹é™å­åºåˆ—ï¼Œæ‰€ä»¥åœ¨fæ•°ç»„é‡Œä¸€å®šä¸ä¼šæ¯”å®ƒçš„ä½ç½®é å‰ã€‚

ã€€ã€€æ‰€ä»¥å¼€ä¸€ä¸ªå˜é‡lenæ¥è®°å½“å‰æ‰¾åˆ°çš„æœ€é•¿ä¸ä¸‹é™å­åºåˆ—æœ‰å¤šé•¿äº†ï¼Œå¦‚æœa[i]>=f[len]ï¼Œé‚£ä¹ˆç›´æ¥æ”¾åˆ°f[len]åé¢,å¹¶ä¸”len++,ä½†æ˜¯å¦‚æœa[i]<len,å°±è¦a[i]æ”¾åˆ°fæ•°ç»„é‡Œï¼Œè¿™æ˜¯æˆ‘ä»¬ç”¨åˆ°äºŒåˆ†ï¼Œåœ¨fæ•°ç»„é‡Œæ‰¾å‡ºå¤§äºa[i]çš„ç¬¬ä¸€ä¸ªæ•°å¹¶ä¸”ç”¨iæŠŠå®ƒæ›¿æ¢æ‰ã€‚åŸç†ï¼šå‡è®¾f[x]æ˜¯å¤§äºa[i]çš„ç¬¬ä¸€ä¸ªæ•°ï¼Œé‚£ä¹ˆxä¹‹å‰çš„æ‰€æœ‰æ•°éƒ½ä¸å¿…a[i]å¤§ï¼Œé‚£ä¹ˆæŠŠa[i]ä¸€å®šå¯ä»¥æ„æˆä¸€ä¸ªé•¿åº¦ä¸ºxçš„æœ€é•¿ä¸ä¸‹é™å­åºåˆ—ï¼Œå¹¶ä¸”ç”±äºa[i]æ¯”f[x]æ›´å°ï¼Œæ‰€ä»¥a[i]ä¸€å®šä¸ä¼šæ¯”f[x]ä¸ä¼˜ã€‚

ã€€ã€€æœ‰ä¸€ä¸ªå€¼å¾—è¯´æ˜çš„ç‚¹æ˜¯fæ•°ç»„åªæ˜¯ç”¨æ¥è®°å½•ç»“å°¾çš„æ•°çš„ï¼Œfæ•°ç»„è¿èµ·æ¥å¹¶ä¸æ˜¯ä¸€ä¸ªæœ€é•¿ä¸ä¸‹é™å­åºåˆ—

ã€€äºŒåˆ†ç”¨çš„2ä¸ªstlåˆ†åˆ«æ˜¯lower_boundå’Œupper_boundï¼Œç¬¬ä¸€ä¸ªæ˜¯æ±‚å¤§äºç­‰äºä¸€ä¸ªæ•°çš„ç¬¬ä¸€ä¸ªæ•°çš„ä½ç½®ï¼Œç¬¬äºŒä¸ªæ˜¯æ±‚å¤§äºä¸€ä¸ªæ•°çš„ç¬¬ä¸€ä¸ªæ•°çš„ä½ç½®ã€‚

```cpp
//æ±‚é•¿åº¦å¯ç”¨ 	

for (int i = 0; i < n; ++i) cin >> num[i];
    dp[0][len1] = dp[1][len2] = num[0];
    for (int i = 1; i < n; ++i) {
      if (num[i] <= dp[0][len1]) {
        dp[0][++len1] = num[i];
      } else {
        int x = binary_search_1(0, num[i], len1);
        dp[0][x] = num[i];
      }
    }

//å­—å…¸åºæœ€å°ï¼Œæœ€é•¿å•è°ƒé€’å¢å­åºåˆ—
	//val[len] -- å•å¢é•¿åº¦ä¸ºlençš„æœ€å°å€¼ã€‚
	//dp[i] -- è¡¨ç¤ºä¸‹æ ‡ä¸ºiå¯¹åº”åºåˆ—å€¼   çš„æœ€é•¿å•å¢é•¿åº¦
	//end -- æ±‚å¾—æœ€é•¿é•¿åº¦ï¼Œæœ€å°åºåˆ—å€¼çš„ä¸‹æ ‡
	val[0] = arr[0];
    dp[0] = 1;
    for (int i = 0; i < n; ++i) {
        int id = lower_bound(val, val + len, arr[i]) - val;
        if (id == len) {
            val[len++] = arr[i];
            dp[i] = len; 
            end = i;
        } else {
            val[id] = arr[i];
            dp[i] = id + 1;
            if (dp[i] == len) end = i;
        }
    }
	//é€†åºæ±‚ï¼Œæƒ³æ˜ç™½ä¸ºä»€ä¹ˆ
	//dp[i] == dp[end] - 1 æ¡ä»¶å°±å¯ä»¥ä¿è¯å­—å…¸åºæœ€å°
	// æ˜¯å¦æ¯ä¸ªé•¿åº¦ä¸ºlençš„åºåˆ—éƒ½æ˜¯ä¸€ä¸ªå•è°ƒä¸å¢çš„    
	//å•ç‹¬arr[i] < arr[end]ä¸å¯ï¼Œ 4  3  1 3 2 1 4
	int l = len;
    ans[--l] = arr[end];
    for (int i = end; i >= 0; --i) {
        if (arr[i] < arr[end] && dp[i] == dp[end] - 1) {
            ans[--l] = arr[i];
            end = i;
        }
    }

```





### HZOJ-50-æ‰”é¸¡è›‹

![image-20201026184141903](/Image/B1.HZOJ-photo/image-20201026184141903-1623675365851.png)



jå’Œkï¼Œæ¥¼å±‚é«˜åº¦å’Œæµ‹çš„æ¬¡æ•°æ­£ç›¸å…³

![image-20201026184230552](/Image/B1.HZOJ-photo/image-20201026184230552-1623675365851.png)

```cpp
#include <iostream>
#include <algorithm>
#include <cstdio>
#include <cstdlib>
#include <cmath>
#include <cstring>
#include <queue>
#include <stack>
#include <map>
using namespace std;
#define MAX_N 32
#define MAX_M 655536
long long dp[MAX_N + 5][MAX_M + 5];

int main() {
    long long n, m;
    cin >> n >> m;
    if (n == 1) {
        cout <<  m << endl;
        return 0;
    }

    for (int i = 2; i <= n; ++i) {
        for (int j = 1; dp[i][j - 1] < m; ++j) {
            long long val1;
            if (i - 1 == 1) val1 = j - 1;
            else val1 = dp[i - 1][j - 1];
            dp[i][j] = val1 + dp[i][j - 1] + 1;
        }
    }
    
    int k = 1;
    while (dp[n][k] < m) k++;
    cout << k << endl;

    return 0;
}

```











## èƒŒåŒ…é—®é¢˜

### 01èƒŒåŒ…é—®é¢˜

å£°æ˜ä¸€ä¸ª å¤§å°ä¸º  m\[n][c] çš„äºŒç»´æ•°ç»„ï¼Œm**\[ i ][ j ] è¡¨ç¤º åœ¨é¢å¯¹ç¬¬ i ä»¶ç‰©å“ï¼Œä¸”èƒŒåŒ…å®¹é‡ä¸º  j æ—¶æ‰€èƒ½è·å¾—çš„æœ€å¤§ä»·å€¼** ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åˆ†æå¾—å‡º m\[i][j] çš„è®¡ç®—æ–¹æ³•ï¼Œ

ï¼ˆ1ï¼‰. j < w[i] çš„æƒ…å†µï¼Œè¿™æ—¶å€™èƒŒåŒ…å®¹é‡ä¸è¶³ä»¥æ”¾ä¸‹ç¬¬ i ä»¶ç‰©å“ï¼Œåªèƒ½é€‰æ‹©ä¸æ‹¿

m\[i][ j ] = m\[ i-1 ][ j ]

ï¼ˆ2ï¼‰. j>=w[i] çš„æƒ…å†µï¼Œè¿™æ—¶èƒŒåŒ…å®¹é‡å¯ä»¥æ”¾ä¸‹ç¬¬ i ä»¶ç‰©å“ï¼Œæˆ‘ä»¬å°±è¦è€ƒè™‘æ‹¿è¿™ä»¶ç‰©å“æ˜¯å¦èƒ½è·å–æ›´å¤§çš„ä»·å€¼ã€‚

å¦‚æœæ‹¿å–ï¼Œm\[ i ][ j ]=m\[ i-1 ][ j-w[ i ] ] + v[ i ]ã€‚ è¿™é‡Œçš„m\[ i-1 ][ j-w[ i ] ]æŒ‡çš„å°±æ˜¯è€ƒè™‘äº†i-1ä»¶ç‰©å“ï¼ŒèƒŒåŒ…å®¹é‡ä¸ºj-w[i]æ—¶çš„æœ€å¤§ä»·å€¼ï¼Œä¹Ÿæ˜¯ç›¸å½“äºä¸ºç¬¬iä»¶ç‰©å“è…¾å‡ºäº†w[i]çš„ç©ºé—´ã€‚

å¦‚æœä¸æ‹¿ï¼Œm\[ i ][ j ] = m\[ i-1 ][ j ] , åŒï¼ˆ1ï¼‰

ç©¶ç«Ÿæ˜¯æ‹¿è¿˜æ˜¯ä¸æ‹¿ï¼Œè‡ªç„¶æ˜¯æ¯”è¾ƒè¿™ä¸¤ç§æƒ…å†µé‚£ç§ä»·å€¼æœ€å¤§

```c
if(j>=w[i])
    m[i][j]=max(m[i-1][j],m[i-1][j-w[i]]+v[i]);
else
    m[i][j]=m[i-1][j];
```

```c++
for (int i = 0; i < n; ++ i) {
    cin >> v >> w;
    for (int j = m; j >= v; --j) {
        dp[j] = max(dp[j], dp[j - v] + w);
    }
}
```

| ç¬¬iå±‚                                                        | dp[1]   | ...  | dp[m - 1] | dp[m] |
| ------------------------------------------------------------ | ------- | ---- | --------- | ----- |
| è¿™å°±æ˜¯ä¸Šä¸€å±‚å‰¯$dp[i][j] = max(dp[i - 1][j], dp[i - 1][j - w[i]] + p[i]) $,ä¾èµ–äºä¸Šä¸€å±‚çš„$j - w[i]$å¤„çš„å€¼ï¼Œæ‰€ä»¥å€’å™,æœªæ›´æ–°çš„$dp[]$ä»£è¡¨ä¸Šä¸€å±‚ï¼Œæ›´æ–°ä»£è¡¨æœ¬å±‚çš„$dp[]$; | æœªæ›´æ–°  |      | æ›´æ–°      | æ›´æ–°  |
|                                                              | i - 1å±‚ |      | iå±‚       | iå±‚   |

####  è´­ç‰©å•

> ## æè¿°
>
>   ç‹å¼ºä»Šå¤©å¾ˆå¼€å¿ƒï¼Œå…¬å¸å‘ç»™Nå…ƒçš„å¹´ç»ˆå¥–ã€‚ç‹å¼ºå†³å®šæŠŠå¹´ç»ˆå¥–ç”¨äºè´­ç‰©ï¼Œä»–æŠŠæƒ³ä¹°çš„ç‰©å“åˆ†ä¸ºä¸¤ç±»ï¼šä¸»ä»¶ä¸é™„ä»¶ï¼Œé™„ä»¶æ˜¯ä»å±äºæŸä¸ªä¸»ä»¶çš„ï¼Œä¸‹è¡¨å°±æ˜¯ä¸€äº›ä¸»ä»¶ä¸é™„ä»¶çš„ä¾‹å­ï¼š 
>  
>
> | ä¸»ä»¶   | é™„ä»¶           |
> | ------ | -------------- |
> | ç”µè„‘   | æ‰“å°æœºï¼Œæ‰«æä»ª |
> | ä¹¦æŸœ   | å›¾ä¹¦           |
> | ä¹¦æ¡Œ   | å°ç¯ï¼Œæ–‡å…·     |
> | å·¥ä½œæ¤… | æ—              |
>
>   å¦‚æœè¦ä¹°å½’ç±»ä¸ºé™„ä»¶çš„ç‰©å“ï¼Œå¿…é¡»å…ˆä¹°è¯¥é™„ä»¶æ‰€å±çš„ä¸»ä»¶ã€‚æ¯ä¸ªä¸»ä»¶å¯ä»¥æœ‰ 0 ä¸ªã€ 1 ä¸ªæˆ– 2 ä¸ªé™„ä»¶ã€‚é™„ä»¶ä¸å†æœ‰ä»å±äºè‡ªå·±çš„é™„ä»¶ã€‚ç‹å¼ºæƒ³ä¹°çš„ä¸œè¥¿å¾ˆå¤šï¼Œä¸ºäº†ä¸è¶…å‡ºé¢„ç®—ï¼Œä»–æŠŠæ¯ä»¶ç‰©å“è§„å®šäº†ä¸€ä¸ªé‡è¦åº¦ï¼Œåˆ†ä¸º 5 ç­‰ï¼šç”¨æ•´æ•° 1 **~** 5 è¡¨ç¤ºï¼Œç¬¬ 5 ç­‰æœ€é‡è¦ã€‚ä»–è¿˜ä»å› ç‰¹ç½‘ä¸ŠæŸ¥åˆ°äº†æ¯ä»¶ç‰©å“çš„ä»·æ ¼ï¼ˆéƒ½æ˜¯ 10 å…ƒçš„æ•´æ•°å€ï¼‰ã€‚ä»–å¸Œæœ›åœ¨ä¸è¶…è¿‡ N å…ƒï¼ˆå¯ä»¥ç­‰äº N å…ƒï¼‰çš„å‰æä¸‹ï¼Œä½¿æ¯ä»¶ç‰©å“çš„ä»·æ ¼ä¸é‡è¦åº¦çš„ä¹˜ç§¯çš„æ€»å’Œæœ€å¤§ã€‚ 
>
> â€‹    è®¾ç¬¬ j ä»¶ç‰©å“çš„ä»·æ ¼ä¸º v[j] ï¼Œé‡è¦åº¦ä¸º w[j] ï¼Œå…±é€‰ä¸­äº† k ä»¶ç‰©å“ï¼Œç¼–å·ä¾æ¬¡ä¸º j 1 ï¼Œ j 2 ï¼Œâ€¦â€¦ï¼Œ j k ï¼Œåˆ™æ‰€æ±‚çš„æ€»å’Œä¸ºï¼š 
>
>   v[j 1 ]*w[j 1 ]+v[j 2 ]*w[j 2 ]+ â€¦ +v[j k ]*w[j k ] ã€‚ï¼ˆå…¶ä¸­ * ä¸ºä¹˜å·ï¼‰ 
>
> â€‹    è¯·ä½ å¸®åŠ©ç‹å¼ºè®¾è®¡ä¸€ä¸ªæ»¡è¶³è¦æ±‚çš„è´­ç‰©å•ã€‚ 

åœ¨èƒŒåŒ…é—®é¢˜ä¸­ï¼Œè®¾`dp[i][j]`è¡¨ç¤ºåœ¨é’±æ•°ä¸è¶…è¿‡jçš„æ¡ä»¶ä¸‹ï¼Œå¯¹äºå‰iä»¶äº§å“çš„é€‰æ‹©æ‰€èƒ½è·å–çš„æœ€å¤§ä»·å€¼ã€‚
åŠ¨æ€æ–¹ç¨‹å¯ä»¥è¡¨ç¤ºä¸º
å¦‚æœ`j>price[i]` ï¼Œ `dp[i][j]=max(dp[i][j-price[i]]+value[i],dp[i-1][j])`
å¦åˆ™ `dp[i][j]=dp[i-1][j])`
é‚£ä¹ˆå¦‚ä½•å¤„ç†é™„ä»¶,æˆ‘ä»¬çŸ¥é“ï¼Œè¿™é‡Œçš„ç¼–å·éƒ½æ˜¯ä¸»ä»¶ï¼Œæ‰€ä»¥åœ¨æ¯ä¸€ä¸»ä»¶ä¹‹åå¯ä»¥å¢åŠ å¯¹é™„ä»¶çš„åˆ¤æ–­
`dp[i][j]=`max(ä¸»ä»¶ï¼Œä¸»ä»¶+é™„ä»¶1ï¼Œä¸»ä»¶+é™„ä»¶2ï¼Œä¸»ä»¶+é™„ä»¶3ï¼Œä¸ä¹°ä¸»ä»¶)

```cpp
int main() {
    int n, m;
    cin >> m >> n;
    m /= 10;
    vector<vector<int>> price(n + 1,vector<int>(3, 0));
    vector<vector<int>> value(n + 1,vector<int>(3, 0));
    for (int i = 1, v, p, q; i <= n; i++) {
        cin >> v >> p >> q;
        v /= 10;
        if (q == 0) {
            price[i][0] = v;
            value[i][0] = v * p;
        } else {
            if (price[q][1] == 0) {
                price[q][1] = v;
                value[q][1] = v * p;
            } else {
                price[q][2] = v;
                value[q][2] = v * p;
            }
        }
    }
    
    vector<int> dp(m + 1, 0);
    for (int i = 1; i <= n; i++) {
        for (int j = m; j >= price[i][0]; j--) {
            int p = price[i][0], v = value[i][0];
            if (j >= p) {
                dp[j] = max(dp[j], dp[j - p] + v);
            }
            p = price[i][0] + price[i][1], v = value[i][0] + value[i][1];
            if (j >= p) {
                dp[j] = max(dp[j], dp[j - p] + v);
            }
            p = price[i][0] + price[i][2], v = value[i][0] + value[i][2];
            if (j >= p) {
                dp[j] = max(dp[j], dp[j - p] + v);
            }
            p = price[i][0] + price[i][1] + price[i][2], v = value[i][0] + value[i][1] + value[i][2];
            if (j >= p) {
                dp[j] = max(dp[j], dp[j - p] + v);
            }
        }
        cout << dp[m] << endl;
    }
    cout << dp[m] * 10 << endl;    
    return 0;
}

```





### å®Œå…¨èƒŒåŒ…é—®é¢˜

```c++
for (int i = 0; i < n; ++ i) {
    cin >> v >> w;
    for (int j = v; j <= m; ++j) {
        dp[j] = max(dp[j], dp[j - v] + w);
    }
}
```

| ç¬¬iå±‚                                                        | dp[1] | ...  | dp[m - 1] | dp[m]  |
| ------------------------------------------------------------ | ----- | ---- | --------- | ------ |
| è¿™å°±æ˜¯ä¸Šä¸€å±‚å’Œæœ¬å±‚ï¼›$dp[i][j] = max(dp[i - 1][j], dp[i][j - w[i]] + p[i]) $ä¾èµ–äºæœ¬å±‚çš„$j - w[i]$å¤„çš„å€¼ï¼Œæ‰€ä»¥æ­£åºæœ¬å±‚çš„dp[]; | æ›´æ–°  |      | æœªæ›´æ–°    | æœªæ›´æ–° |
|                                                              | i å±‚  |      | iå±‚       | iå±‚    |






### å¤šé‡èƒŒåŒ…é—®é¢˜

##### è½¬åŒ–ä¸º01èƒŒåŒ…

ä¸ªæ•°ä¸ºsï¼›å½“æˆsä¸ªç‰©å“ï¼›

```c++
for (int i = 1; i <= n; ++i) {
        cin >> v >> w >> s;
        while (s--) {
            for (int j = m; j >= v; --j) {
                f[j] = max(f[j], f[j - v] + w);
            }
        }
    }
```



##### äºŒè¿›åˆ¶æ‹†åˆ†æ³•

ä¾‹å¦‚17ï¼Œæ‹†ä¸º1ï¼Œ2ï¼Œ 4ï¼Œ 8,  2ï¼›è¿™äº”ä¸ªæ•°å¯ä»¥åˆæˆä»»æ„x(s <= 17);

```c++
 for (int i = 1; i <= n; ++i) {
        cin >> v >> w >> s;
        for (int k = 1; s > 0; s -= k, k *= 2) {
            k = min(s, k);
            for (int j = m; j >= k * v; --j) {
                f[j] = max(f[j], f[j - k * v] + k * w);
            }
        }
    }
```

##### å•è°ƒé˜Ÿåˆ—

https://blog.csdn.net/belous_zxy/article/details/80357450?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.control&depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.control

```cpp
int dp[MAX_V + 5];
typedef pair<int, int> PII;
deque<PII> que;
int main() {
    int mostv, n;
    cin >> mostv >> n;
    for (int i = 0, v, w, s; i < n; ++i) {
        cin >> v >> w >> s;
        if (s * v > mostv) s = mostv / v; 
        for (int ind = 0; ind < v; ++ind) {
            que.clear();
            for (int jnd = 0; jnd <= (mostv - ind) / v; ++jnd) {
                int res = dp[ind + jnd * v] - jnd * w;
                while (!que.empty() && que.front().first < jnd - s) que.pop_front();
                while (!que.empty() && que.back().second <= res) que.pop_back();
                que.push_back(PII(jnd, res));
                dp[ind + jnd * v] = que.front().second + jnd * w;
            }
        }
    }
    cout << dp[mostv] << endl;
    return 0;
}

```

